@echo off
chcp 65001 > nul

:: --- Батник для автоматического обновления репозитория GitHub ---

:: Переходим в папку, где лежит сам батник
cd /d "%~dp0"

echo.
echo ==================================================
echo         ABTOМАТИЧЕСКОЕ ОБНОВЛЕНИЕ GITHUB
echo ==================================================
echo.

:: Запрашиваем у пользователя комментарий для коммита
set /p commit_message="Введите комментарий к изменениям и нажмите Enter: "

:: Проверяем, не пустой ли комментарий
if "%commit_message%"=="" (
    echo.
    echo ОШИБКА: Комментарий не может быть пустым!
    echo Обновление отменено.
    echo.
    pause
    exit
)

echo.
echo --- 1. Добавляю все измененные файлы (git add .)...
git add .

echo.
echo --- 2. Сохраняю изменения (git commit)...
git commit -m "%commit_message%"

echo.
echo --- 3. Загружаю на GitHub (git push)...
git push

echo.
echo ==================================================
echo          ОБНОВЛЕНИЕ ЗАВЕРШЕНО!
echo ==================================================
echo.
pause